{% extends 'index.html' %}
{#{% load static %}#}

{#{% block content %}#}

{% block content %}
     <div class="content-wrapper">
    <div class="dashboard">
      <h2>Dashboard</h2>

      <div class="dashboard-overview">
        <div class="overview-card">
          <h3>Total Rooms</h3>
          <p>{{ total_rooms }}</p>
        </div>
        <div class="overview-card">
          <h3>Occupied Rooms</h3>
          <p>{{ occupied_rooms }}</p>
        </div>
        <div class="overview-card">
          <h3>Available Rooms</h3>
          <p>{{ available_rooms }}</p>
        </div>
        <div class="overview-card">
          <h3>Total Bookings</h3>
          <p>{{ total_bookings }}</p>
        </div>
      </div>

      <div class="dashboard-charts">
        <div class="chart-container">
          <h3>Occupancy Rate</h3>
          <canvas id="occupancyChart"></canvas>
        </div>
        <div class="chart-container">
          <h3>Booking Trends</h3>
          <canvas id="bookingTrendsChart"></canvas>
        </div>
      </div>

      <div class="dashboard-actions">
          <a href="/create-room" class="button">Add Room</a>
          <a href="/create-booking" class="button">Create Booking</a>
          <a href="/guest-list" class="button">Manage Guests</a>
      </div>

    {#  <div class="dashboard-actions">#}

    {#    <a href="{% url 'create_room' %}" class="button">Add Room</a>#}
    {#    <a href="{% url 'create_booking' %}" class="button">Create Booking</a>#}
    {#    <a href="{% url 'guest_list' %}" class="button">Manage Guests</a>#}
    {#  </div>#}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      // Initialize charts
      const occupancyChart = new Chart(document.getElementById('occupancyChart'), {
        type: 'line',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          datasets: [{
            label: 'Occupancy Rate',
            data: [70, 65, 80, 75, 85, 72],
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            borderColor: 'rgba(75, 192, 192, 1)',
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
              max: 100
            }
          }
        }
      });

      const bookingTrendsChart = new Chart(document.getElementById('bookingTrendsChart'), {
        type: 'bar',
        data: {
          labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
          datasets: [{
            label: 'Bookings',
            data: [50, 45, 60, 55, 65, 52],
            backgroundColor: 'rgba(54, 162, 235, 0.2)',
            borderColor: 'rgba(54, 162, 235, 1)',
            borderWidth: 1
          }]
        },
        options: {
          scales: {
            y: {
              beginAtZero: true,
              step: 10
            }
          }
        }
      });
    </script>

    <style>
      .dashboard {
        padding: 20px;
      }

      .dashboard-overview {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-gap: 20px;
        margin-bottom: 30px;
      }

      .overview-card {
        background-color: #f1f1f1;
        padding: 20px;
        text-align: center;
        border-radius: 5px;
      }

      .dashboard-charts {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        grid-gap: 20px;
        margin-bottom: 30px;
      }

      .chart-container {
        background-color: #f1f1f1;
        padding: 20px;
        border-radius: 5px;
      }

      .dashboard-actions {
        display: flex;
        justify-content: center;
        gap: 20px;
      }

      .button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        text-decoration: none;
        border-radius: 5px;
      }
    </style>
     </div>
{% endblock %}